# frozen_string_literal: true

# rubocop:disable Layout/LineLength

require 'lib/color'

module View
  class Logo < Snabberb::Component
    needs :user, default: nil, store: true

    def render
      props = {
        style: {
          position: 'absolute',
          top: '10px',
          width: '80px',
          height: '32px',
        },
        attrs: {
          width: '500px',
          height: '198px',
          viewBox: '0 0 500 198',
        },
      }

      bg_color = @user&.dig(:settings, :bg_color) || '#ffffff'
      logo_id = bg_color == '#ffffff' ? 'logo--dark' : 'logo'
      # green = '#71bf44'
      offboard = '#ec232a'
      yellow = '#F0E68C'
      if Lib::Color.brightness(bg_color) < 125
        polygon_fill = offboard
        path_fill = '#eee'
      else
        polygon_fill = yellow
        path_fill = '#000'
      end

      h('svg#logo', props, [
        h(:title, '18xx.Games'),
        h(:g, { attrs: { id: logo_id } }, [
          h(:polygon, attrs: { id: 'logo__polygon', fill: polygon_fill, points: '250 0 335.736515 49.5 335.736515 148.5 250 198 164.263485 148.5 164.263485 49.5' }),
          h(:path, attrs: { d: 'M31.8847656,133 L31.8847656,70.6953125 L24.4140625,70.6953125 L7.51953125,79.7773438 L10.2050781,86.6132812 L20.8984375,83.390625 L20.8984375,133 L31.8847656,133 Z M75,134.904297 C78.8411458,134.904297 82.3567708,134.090495 85.546875,132.462891 C88.7369792,130.835286 91.2597656,128.621745 93.1152344,125.822266 C94.9707031,123.022786 95.8984375,119.914062 95.8984375,116.496094 C95.8984375,113.143229 94.8649089,109.953125 92.7978516,106.925781 C90.7307943,103.898438 88.0371094,101.457031 84.7167969,99.6015625 C87.3535156,97.84375 89.5263672,95.6790365 91.2353516,93.1074219 C92.9443359,90.5358073 93.7988281,87.9316406 93.7988281,85.2949219 C93.7988281,82.3977865 93.0013021,79.7041016 91.40625,77.2138672 C89.8111979,74.7236328 87.6220703,72.7460938 84.8388672,71.28125 C82.0556641,69.8164062 78.9713542,69.0839844 75.5859375,69.0839844 C72.2330729,69.0839844 69.140625,69.8408203 66.3085938,71.3544922 C63.4765625,72.8681641 61.2304688,74.9108073 59.5703125,77.4824219 C57.9101562,80.0540365 57.0800781,82.8535156 57.0800781,85.8808594 C57.0800781,88.5175781 57.8776042,91.0891927 59.4726562,93.5957031 C61.0677083,96.1022135 63.1510417,98.2018229 65.7226562,99.8945312 C62.2395833,101.815104 59.4482422,104.297201 57.3486328,107.34082 C55.2490234,110.38444 54.1992188,113.533854 54.1992188,116.789062 C54.1992188,120.109375 55.1106771,123.152995 56.9335938,125.919922 C58.7565104,128.686849 61.2548828,130.875977 64.4287109,132.487305 C67.6025391,134.098633 71.1263021,134.904297 75,134.904297 Z M76.6113281,95.0117188 C71.1425781,92.1471354 68.4082031,88.9407552 68.4082031,85.3925781 C68.4082031,84.2207031 68.7011719,83.1383464 69.2871094,82.1455078 C69.8730469,81.1526693 70.694987,80.3632812 71.7529297,79.7773438 C72.8108724,79.1914062 73.9908854,78.8984375 75.2929688,78.8984375 C76.5950521,78.8984375 77.7994792,79.2076823 78.90625,79.8261719 C80.0130208,80.4446615 80.8919271,81.2666016 81.5429688,82.2919922 C82.1940104,83.3173828 82.5195312,84.4160156 82.5195312,85.5878906 C82.5195312,87.3457031 81.9742839,89.0546875 80.8837891,90.7148438 C79.7932943,92.375 78.3691406,93.8072917 76.6113281,95.0117188 Z M75.1953125,124.796875 C73.5677083,124.796875 72.0458984,124.398112 70.6298828,123.600586 C69.2138672,122.80306 68.0908203,121.736979 67.2607422,120.402344 C66.4306641,119.067708 66.015625,117.635417 66.015625,116.105469 C66.015625,113.826823 66.7480469,111.694661 68.2128906,109.708984 C69.6777344,107.723307 71.5657552,106.128255 73.8769531,104.923828 C76.969401,106.030599 79.4433594,107.625651 81.2988281,109.708984 C83.1542969,111.792318 84.0820312,114.022135 84.0820312,116.398438 C84.0820312,117.960938 83.6995443,119.376953 82.9345703,120.646484 C82.1695964,121.916016 81.1116536,122.92513 79.7607422,123.673828 C78.4098307,124.422526 76.8880208,124.796875 75.1953125,124.796875 Z M115.283203,133 L124.902344,117.179688 L135.107422,133 L147.900391,133 L131.103516,108.976562 L145.996094,86.3203125 L133.886719,86.3203125 L124.804688,101.408203 L115.283203,86.3203125 L102.685547,86.3203125 L118.603516,109.318359 L102.490234,133 L115.283203,133 Z M165.283203,133 L174.902344,117.179688 L185.107422,133 L197.900391,133 L181.103516,108.976562 L195.996094,86.3203125 L183.886719,86.3203125 L174.804688,101.408203 L165.283203,86.3203125 L152.685547,86.3203125 L168.603516,109.318359 L152.490234,133 L165.283203,133 Z M224.023438,134.318359 C225.227865,134.318359 226.342773,134.017253 227.368164,133.415039 C228.393555,132.812826 229.207357,131.982747 229.80957,130.924805 C230.411784,129.866862 230.712891,128.719401 230.712891,127.482422 C230.712891,126.277995 230.411784,125.163086 229.80957,124.137695 C229.207357,123.112305 228.393555,122.298503 227.368164,121.696289 C226.342773,121.094076 225.227865,120.792969 224.023438,120.792969 C222.786458,120.792969 221.638997,121.094076 220.581055,121.696289 C219.523112,122.298503 218.693034,123.112305 218.09082,124.137695 C217.488607,125.163086 217.1875,126.277995 217.1875,127.482422 C217.1875,128.719401 217.488607,129.866862 218.09082,130.924805 C218.693034,131.982747 219.523112,132.812826 220.581055,133.415039 C221.638997,134.017253 222.786458,134.318359 224.023438,134.318359 Z M277.001953,134.806641 C280.712891,134.806641 284.147135,134.236979 287.304688,133.097656 C290.46224,131.958333 293.522135,130.151693 296.484375,127.677734 L296.484375,127.677734 L296.484375,101.505859 L275.292969,101.505859 L275.292969,110.978516 L285.888672,110.978516 L285.888672,122.697266 C283.642578,124.422526 280.680339,125.285156 277.001953,125.285156 C274.332682,125.285156 271.948242,124.316732 269.848633,122.379883 C267.749023,120.443034 266.113281,117.643555 264.941406,113.981445 C263.769531,110.319336 263.183594,106.030599 263.183594,101.115234 C263.183594,95.906901 263.826497,91.6181641 265.112305,88.2490234 C266.398112,84.8798828 268.066406,82.4303385 270.117188,80.9003906 C272.167969,79.3704427 274.397786,78.6054688 276.806641,78.6054688 C278.759766,78.6054688 280.419922,78.9879557 281.787109,79.7529297 C283.154297,80.5179036 284.244792,81.421224 285.058594,82.4628906 C285.872396,83.5045573 286.71875,84.7740885 287.597656,86.2714844 C288.248698,87.4108073 288.753255,88.1920573 289.111328,88.6152344 L289.111328,88.6152344 L289.160156,88.5664062 L296.679688,81.2910156 C294.628906,77.547526 291.878255,74.5771484 288.427734,72.3798828 C284.977214,70.1826172 281.16862,69.0839844 277.001953,69.0839844 C273.323568,69.0839844 269.555664,70.0768229 265.698242,72.0625 C261.84082,74.0481771 258.528646,77.4824219 255.761719,82.3652344 C252.994792,87.2480469 251.611328,93.7259115 251.611328,101.798828 C251.611328,108.341797 252.604167,114.095378 254.589844,119.05957 C256.575521,124.023763 259.472656,127.889323 263.28125,130.65625 C267.089844,133.423177 271.663411,134.806641 277.001953,134.806641 Z M288.574219,89.1523438 L288.964844,88.7617188 L288.964844,88.7617188 L288.819166,88.6515528 C288.351062,88.3018197 288.057824,88.1269531 287.939453,88.1269531 C287.841797,88.1269531 287.792969,88.1920573 287.792969,88.3222656 L287.792969,88.3222656 L287.792969,88.3710938 L288.574219,89.1523438 Z M318.896484,134.220703 C321.79362,134.220703 324.503581,133.74056 327.026367,132.780273 C329.549154,131.819987 331.705729,130.49349 333.496094,128.800781 L333.496094,128.800781 L333.496094,133 L344.189453,133 L344.189453,104.582031 C344.189453,97.5182292 342.342122,92.4563802 338.647461,89.3964844 C334.952799,86.3365885 330.029297,84.8066406 323.876953,84.8066406 C320.621745,84.8066406 317.30957,85.4902344 313.94043,86.8574219 C310.571289,88.2246094 307.421875,90.2428385 304.492188,92.9121094 L304.492188,92.9121094 L310.205078,100.285156 C312.158203,98.2669271 314.290365,96.6962891 316.601562,95.5732422 C318.91276,94.4501953 321.142578,93.8886719 323.291016,93.8886719 C326.676432,93.8886719 329.199219,94.7594401 330.859375,96.5009766 C332.519531,98.242513 333.51237,101.147786 333.837891,105.216797 L333.837891,105.216797 L330.419922,105.216797 C324.91862,105.216797 320.19043,105.827148 316.235352,107.047852 C312.280273,108.268555 309.25293,110.050781 307.15332,112.394531 C305.053711,114.738281 304.003906,117.570312 304.003906,120.890625 C304.003906,124.992188 305.273438,128.239258 307.8125,130.631836 C310.351562,133.024414 314.046224,134.220703 318.896484,134.220703 Z M322.509766,125.675781 C320.198568,125.675781 318.383789,125.252604 317.06543,124.40625 C315.74707,123.559896 315.087891,122.22526 315.087891,120.402344 C315.087891,117.733073 316.40625,115.779948 319.042969,114.542969 C321.679688,113.30599 325.86263,112.6875 331.591797,112.6875 L331.591797,112.6875 L333.837891,112.6875 C333.447266,117.179688 332.291667,120.467448 330.371094,122.550781 C328.450521,124.634115 325.830078,125.675781 322.509766,125.675781 Z M363.28125,133 L363.28125,101.994141 C363.28125,98.7063802 363.631185,96.4033203 364.331055,95.0849609 C365.030924,93.7666016 366.048177,93.1074219 367.382812,93.1074219 C368.261719,93.1074219 368.969727,93.6608073 369.506836,94.7675781 C370.043945,95.874349 370.3125,97.9251302 370.3125,100.919922 L370.3125,100.919922 L370.3125,133 L380.615234,133 L380.615234,102.287109 C380.615234,96.1673177 381.884766,93.1074219 384.423828,93.1074219 C385.498047,93.1074219 386.263021,93.6689453 386.71875,94.7919922 C387.174479,95.9150391 387.402344,97.7786458 387.402344,100.382812 L387.402344,100.382812 L387.402344,133 L397.802734,133 L397.802734,98.4785156 C397.802734,93.6282552 397.111003,90.0556641 395.727539,87.7607422 C394.344076,85.4658203 391.927083,84.3183594 388.476562,84.3183594 C386.295573,84.3183594 384.472656,84.7740885 383.007812,85.6855469 C381.542969,86.5970052 380.208333,87.9967448 379.003906,89.8847656 C378.125,87.9316406 376.969401,86.515625 375.537109,85.6367188 C374.104818,84.7578125 372.591146,84.3183594 370.996094,84.3183594 C369.466146,84.3183594 367.993164,84.6845703 366.577148,85.4169922 C365.161133,86.1494141 363.89974,87.2480469 362.792969,88.7128906 L362.792969,88.7128906 L362.792969,85.7832031 L353.222656,85.7832031 L353.222656,133 L363.28125,133 Z M427.001953,134.611328 C434.065755,134.611328 439.957682,131.811849 444.677734,126.212891 L444.677734,126.212891 L438.476562,120.011719 C437.076823,121.802083 435.286458,123.193685 433.105469,124.186523 C430.924479,125.179362 428.759766,125.675781 426.611328,125.675781 C423.583984,125.675781 420.979818,124.593424 418.798828,122.428711 C416.617839,120.263997 415.283203,117.049479 414.794922,112.785156 L414.794922,112.785156 L445.410156,112.785156 L445.507812,111.417969 C445.638021,109.985677 445.703125,108.878906 445.703125,108.097656 C445.703125,103.247396 444.824219,99.1051432 443.066406,95.6708984 C441.308594,92.2366536 438.924154,89.648763 435.913086,87.9072266 C432.902018,86.1656901 429.52474,85.2949219 425.78125,85.2949219 C421.549479,85.2949219 417.757161,86.3121745 414.404297,88.3466797 C411.051432,90.3811849 408.43099,93.2864583 406.542969,97.0625 C404.654948,100.838542 403.710938,105.249349 403.710938,110.294922 C403.710938,115.275391 404.711914,119.59668 406.713867,123.258789 C408.71582,126.920898 411.474609,129.728516 414.990234,131.681641 C418.505859,133.634766 422.509766,134.611328 427.001953,134.611328 Z M434.521484,104.582031 L415.185547,104.582031 C415.54362,101.261719 416.617839,98.616862 418.408203,96.6474609 C420.198568,94.6780599 422.460938,93.6933594 425.195312,93.6933594 C427.050781,93.6933594 428.686523,94.1897786 430.102539,95.1826172 C431.518555,96.1754557 432.609049,97.5019531 433.374023,99.1621094 C434.138997,100.822266 434.521484,102.628906 434.521484,104.582031 L434.521484,104.582031 Z M476.513672,134.611328 C479.964193,134.611328 483.089193,133.895182 485.888672,132.462891 C488.688151,131.030599 490.893555,129.13444 492.504883,126.774414 C494.116211,124.414388 494.921875,121.883464 494.921875,119.181641 C494.921875,116.67513 494.417318,114.591797 493.408203,112.931641 C492.399089,111.271484 490.804036,109.847331 488.623047,108.65918 C486.442057,107.471029 483.43099,106.291016 479.589844,105.119141 C476.822917,104.272786 474.698893,103.540365 473.217773,102.921875 C471.736654,102.303385 470.629883,101.611654 469.897461,100.84668 C469.165039,100.081706 468.798828,99.1621094 468.798828,98.0878906 C468.798828,96.9160156 469.466146,95.9882812 470.800781,95.3046875 C472.135417,94.6210938 473.795573,94.2792969 475.78125,94.2792969 C478.320312,94.2792969 480.672201,94.8164062 482.836914,95.890625 C485.001628,96.9648438 486.767578,98.4785156 488.134766,100.431641 L488.134766,100.431641 L488.134766,100.456055 C488.134766,100.472331 488.151042,100.480469 488.183594,100.480469 L488.183594,100.480469 L488.232422,100.382812 L493.896484,92.5214844 C491.357422,90.0800781 488.582357,88.2652995 485.571289,87.0771484 C482.560221,85.8889974 479.231771,85.2949219 475.585938,85.2949219 C471.940104,85.2949219 468.758138,85.8889974 466.040039,87.0771484 C463.32194,88.2652995 461.238607,89.9091797 459.790039,92.0087891 C458.341471,94.1083984 457.617188,96.5091146 457.617188,99.2109375 C457.617188,102.954427 459.106445,105.892253 462.084961,108.024414 C465.063477,110.156576 469.238281,111.922526 474.609375,113.322266 C477.115885,114.038411 479.085286,114.722005 480.517578,115.373047 C481.94987,116.024089 482.991536,116.740234 483.642578,117.521484 C484.29362,118.302734 484.619141,119.230469 484.619141,120.304688 C484.619141,123.820312 481.94987,125.578125 476.611328,125.578125 C472.802734,125.578125 469.57194,125.016602 466.918945,123.893555 C464.265951,122.770508 461.80013,120.972005 459.521484,118.498047 L459.521484,118.498047 L459.423828,118.400391 L459.375,118.498047 L454.6875,126.701172 C457.584635,129.468099 460.77474,131.47819 464.257812,132.731445 C467.740885,133.984701 471.826172,134.611328 476.513672,134.611328 Z M487.744141,101.115234 L487.939453,100.871094 L487.939453,100.871094 L487.87207,100.826172 C487.821289,100.792318 487.758789,100.750651 487.68457,100.701172 L487.426758,100.529297 C487.182617,100.366536 487.011719,100.285156 486.914062,100.285156 C486.848958,100.285156 486.816406,100.317708 486.816406,100.382812 L486.816406,100.382812 L486.816406,100.480469 L487.744141,101.115234 Z M488.305664,101.09082 C488.452148,101.172201 488.525391,101.196615 488.525391,101.164062 C488.525391,101.066406 488.411458,100.838542 488.183594,100.480469 L488.183594,100.480469 L487.939453,100.871094 C488.037109,100.936198 488.15918,101.00944 488.305664,101.09082 Z M460.742188,118.546875 C460.807292,118.546875 460.839844,118.514323 460.839844,118.449219 L460.839844,118.449219 L460.791016,118.302734 L459.814453,117.716797 L459.619141,118.058594 C459.781901,118.123698 459.985352,118.221354 460.229492,118.351562 C460.473633,118.481771 460.644531,118.546875 460.742188,118.546875 Z M459.423828,118.400391 L459.619141,118.058594 L459.619141,118.058594 L459.082031,117.814453 C459.049479,117.814453 459.033203,117.822591 459.033203,117.838867 L459.033203,117.838867 L459.033203,117.863281 C459.033203,117.960938 459.163411,118.139974 459.423828,118.400391 L459.423828,118.400391 Z',
                            id: 'logo__path', fill: path_fill, 'fill-rule': 'nonzero' }),
        ]),
      ])
    end
  end
end

# rubocop:enable Layout/LineLength
